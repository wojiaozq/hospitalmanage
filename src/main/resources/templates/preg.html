<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title>注册</title>
		<link rel="stylesheet" href="css/style.css">
		<script type="text/javascript" src="js/jquery-2.1.0.min.js"></script>
		<script type="text/javascript" src="js/easyform.js"></script>
	</head>
	<body>
		<br/><br/><br/><br/><br/><br/>
		<div class="form-div">
			<form id="reg-form" action="Patient/pregpa" method="post" >
				<table>
					<tr>
						<td>姓名</td>
						<td><input type="text" name="name" id="name"></td>
					</tr>
					<tr>
						<td>身份证号</td>
						<td><input type="text" name="identification" id="identification" onblur="checkidcard()"> </td>
					</tr>
					<tr>
						<td>性别</td>
						<td style="text-align: left"> &nbsp;&nbsp;
							<select name="sex" class="select" id="sex" style="width: 60px;height: 25px">
							<option value="男">男</option>
							<option value="女" >女</option>
						</select></td>
					</tr>
					<tr>
						<td>年龄</td>
						<td><input type="text" name="age" id="age"></td>
					</tr>
					<tr>
						<td>联系电话</td>
						<td><input  type="text" name="tel" id="tel">
						</td>
					</tr>
					<tr>
						<td>密码</td>
						<td><input type="password" name="password" id="password"></td>
					</tr>
					<tr>
						<td>家庭住址</td>
						<td><input type="text" name="address" id="address"></td>
					</tr>													
				</table>
				<div class="buttons">
					<input value="注册" type="submit" style="margin-right:20px; margin-top:20px;" onclick="return f()">
					<a href="plogin.html" style="margin-right:45px; margin-top:20px;">已有账号，我要登录</a>
				</div>
				<br class="clear">
			</form>
		</div>

	</body>

	<script type="text/javascript">
		function f(){
			var name=$("#name").val();
			var identification=$("#identification").val();
			var tel=$("#tel").val();
			var age=$("#age").val();
			var address=$("#address").val();
			var password=$("#password").val();

			if(name==null||name==""||age==null||age==""||address==null||address==""||password==null||password==""){
				alert("注册信息不全，请填写完整信息");
				return false;
			}if(identification.length!=18){
				alert("请填写18位正确的身份证号")
				return false;
			}if(tel.length!=11){
				alert("请填写11位正确手机号码")
				return false;
			}
				return true;
		}

		function checkidcard(){
			var identification=$("#identification").val();
			$.get("Patient/idcard?identification="+identification,function(data){
				if(data == 'error'){
					alert('身份证已存在，不能重复注册');
					return false;
				}
			});
		}

	</script>
</html>